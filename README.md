# Tasks
## タスク1
期限: 3/20
- [x] Raspberry Pi に Raspbian Stretch LITE (※GUI無しです) をインストール。
- [x] ホストPCからssh接続。
- [x] python3でコンソールにhello world。
## タスク1.5
期限: 3/27
- [x] アナログ入力センサをI2C ADCに配線。
## タスク2
期限: 3/27
- [x] python3で6つのI2Cセンサを読み取り、コンソールに表示。
## タスク3
期限: 3/27
- [x] タスク2のセンサ取得とコンソール表示をマルチプロセスで分割する。
- [x] それぞれクラスにしてファイルを分割する。
## タスク4
期限: 3/31
- [x] python3のpaho.mqttライブラリを使ってpublishとsubscribeのexampleを実行。
- [x] subscrebeしたメッセージをコンソールに表示。
## タスク5
期限: 3/31
- [ ] タスク4のmqtt通信とコンソール表示をマルチプロセスで分割する。
- [ ] それぞれクラスにしてファイルを分割する。
## タスク6
期限: 3/31
- [x] タスク3と5を結合し、I2Cで取得したセンサ値をmqttでpublishする。
## タスク7
期限: 3/31
- [ ] ラズパイの電源を入れたら、タスク6が自動で実行できるようにする。

---

# 開発の方針
基本的にはissue駆動開発とし、
1. タスクに対してissueを立てる
2. 自分が担当する場合issueのassignerに自分を選択
2. それに対応させた名前のブランチを切る
3. PRを送る(mergeする際はmasterのコミットログが見やすいようにSquash and merge)

のような流れで進めていきたいと思います

---

# 採用しているコーディング規約など
基本的に命名などについては**PEP8**、docstringは**numpyスタイル**で書いていますが、細部までこだわっているわけではないので何かあったらご連絡ください

---

# ラズパイ側の設定
ラズパイ側でしている(明記しておいた方がいいと考えられる)設定について以下に書いておきます

## alias
開発の便利のためにaliasを設定しています。不都合が生じた場合は`.bashrc`を変更してください
|alias|元コマンド|概説|
|:-|:-|:-|
|python|python3|python2系で実行するのを防ぐためです|
|pip   |pip3   |python2系で実行するのを防ぐためです|

## 開発環境
仮想環境の構築に **pipenv** を利用しています。  
依存関係などを見たい場合には、`mqtt-i2c-sensing`のディレクトリに入ったうえで
```bash
pipenv run pip check
```
を実行してください。


## 再起動時の自動実行について
`rc.local`に記述することとします。
内容については確定次第追記します

---

# メモ
|日付|概要|メモ|
|:-:|:-:|:-:|
|3/14|リポジトリ開設、開発開始|ラズパイ、センサー等の発注をしていていただいた、到着次第メイン開発を開始するが、それまでできることをやっておく(MQTTなど)|
|3/17|ラズパイ到着|セットアップをしてタスク1を終了させた|
|3/18|タスク2.5の挿入と納期延長|アナログ入力のモジュールが追加されたのでそのタスクが2.5になった。納期が3日くらい延びた|
|3/19|センサ到着|はんだごてがないので追加でとどけてもらうことになった|
|3/19|センサが増えた|センサが増えた|
